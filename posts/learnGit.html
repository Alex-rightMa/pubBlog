<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui"
    />
    <title>【工具学习】Git学习 | dodhood</title>
    <meta name="description" content="不忘初心，方得始终。" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="【工具学习】Git学习 | dodhood" />
    <meta property="og:site_name" content="【工具学习】Git学习 | dodhood" />
    <meta property="og:locale" content="zh-CN" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="【工具学习】Git学习 | dodhood" />
    <link rel="shortcut icon" href="/pubBlog/favicon.ico">
    
    <link rel="preload" href="/pubBlog/assets/css/0.styles.af92ce03.css" as="style"><link rel="preload" href="/pubBlog/assets/js/app.faf67417.js" as="script"><link rel="preload" href="/pubBlog/assets/js/1.9b146cf0.js" as="script"><link rel="preload" href="/pubBlog/assets/js/14.cac7871b.js" as="script"><link rel="preload" href="/pubBlog/assets/js/5.5d06c7ea.js" as="script"><link rel="preload" href="/pubBlog/assets/js/7.33610143.js" as="script"><link rel="preload" href="/pubBlog/assets/js/9.4f15c051.js" as="script"><link rel="preload" href="/pubBlog/assets/js/6.2819461f.js" as="script"><link rel="preload" href="/pubBlog/assets/js/20.ef7d0002.js" as="script"><link rel="preload" href="/pubBlog/assets/js/13.a9af2284.js" as="script"><link rel="preload" href="/pubBlog/assets/js/15.51234656.js" as="script"><link rel="prefetch" href="/pubBlog/assets/js/10.12773369.js"><link rel="prefetch" href="/pubBlog/assets/js/11.53c678c9.js"><link rel="prefetch" href="/pubBlog/assets/js/12.8ae32e5a.js"><link rel="prefetch" href="/pubBlog/assets/js/16.23382991.js"><link rel="prefetch" href="/pubBlog/assets/js/17.68be8124.js"><link rel="prefetch" href="/pubBlog/assets/js/18.95ad111b.js"><link rel="prefetch" href="/pubBlog/assets/js/19.1c49e346.js"><link rel="prefetch" href="/pubBlog/assets/js/21.7be91ae3.js"><link rel="prefetch" href="/pubBlog/assets/js/22.60e60983.js"><link rel="prefetch" href="/pubBlog/assets/js/23.b79b322e.js"><link rel="prefetch" href="/pubBlog/assets/js/24.ff6358be.js"><link rel="prefetch" href="/pubBlog/assets/js/4.d9da0af8.js"><link rel="prefetch" href="/pubBlog/assets/js/8.2f4db8ff.js"><link rel="prefetch" href="/pubBlog/assets/js/vendors~search.64f6c7ae.js">
    <link rel="stylesheet" href="/pubBlog/assets/css/0.styles.af92ce03.css">
  </head>
  <body>
    <div id="loader-wrapper" style="display: none;opacity:0">
      <div id="loader"></div>
      <div class="loader-section section-left"></div>
      <div class="loader-section section-right"></div>
    </div>
    <div id="app" data-server-rendered="true"><div style="height:100%;" data-v-60762676><section class="el-container main-container" data-v-60762676><aside class="el-aside menu" style="width:auto;" data-v-09011f04 data-v-60762676><ul role="menubar" class="menu-wrap el-menu" style="background-color:;" data-v-09011f04><li data-v-09011f04><div class="brand-wrap" style="background-image:url(/pubBlog/brand.jpg);" data-v-09011f04><div class="brand" data-v-09011f04><a href="/pubBlog/" class="avatar waves-effect waves-circle waves-light router-link-active" data-v-09011f04><img src="/pubBlog/avatar.jpg" data-v-09011f04></a> <hgroup class="introduce" data-v-09011f04><div class="nickname" data-v-09011f04>dodhood</div> <a title="alexma2013@163.com" class="mail" data-v-09011f04>alexma2013@163.com</a></hgroup></div></div></li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="padding-left:20px;color:;background-color:;" data-v-09011f04><i class="iconfont icon-home" data-v-09011f04></i> <span class="item-title" data-v-09011f04>主页</span></li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="padding-left:20px;color:;background-color:;" data-v-09011f04><i class="iconfont icon-biaoqian" data-v-09011f04></i> <span class="item-title" data-v-09011f04>标签分类</span></li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="padding-left:20px;color:;background-color:;" data-v-09011f04><i class="iconfont icon-wenzhang" data-v-09011f04></i> <span class="item-title" data-v-09011f04>时间归档</span></li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="padding-left:20px;color:;background-color:;" data-v-09011f04><i class="iconfont icon-github" data-v-09011f04></i> <span class="item-title" data-v-09011f04>Github</span></li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="padding-left:20px;color:;background-color:;" data-v-09011f04><i class="iconfont icon-aboutme" data-v-09011f04></i> <span class="item-title" data-v-09011f04>自我介绍</span></li></ul></aside> <section class="el-container container-warp" data-v-60762676><header id="topHeader" class="el-header top-header" style="height:60px;padding-left:260px;" data-v-7429231c data-v-60762676><div class="header-warp el-row is-align-middle el-row--flex" data-v-7429231c><div class="el-col el-col-12 el-col-xs-7" data-v-7429231c><div class="el-row is-align-middle el-row--flex" data-v-7429231c><div class="el-col el-col-2" data-v-7429231c><button type="button" class="el-button el-button--primary is-circle" data-v-7429231c><!----><!----><span><i class="iconfont icon-caidan" data-v-7429231c></i></span></button></div></div></div> <div class="el-col el-col-20 el-col-xs-24" data-v-7429231c><div class="grid-content bg-purple-light" data-v-7429231c><div class="el-row is-justify-end is-align-middle el-row--flex" data-v-7429231c><div class="el-col el-col-13 el-col-xs-24 el-col-sm-21 el-col-md-17 el-col-lg-13" data-v-7429231c><div aria-haspopup="listbox" role="combobox" aria-owns="el-autocomplete-9087" class="el-autocomplete search-input" data-v-7429231c><div class="el-input el-input--small el-input--suffix"><!----><input type="text" autocomplete="off" valueKey="value" popperClass="search-popper" placeholder="搜搜看" fetchSuggestions="function () { [native code] }" debounce="300" placement="bottom-start" popperAppendToBody="true" value="" class="el-input__inner"><!----><span class="el-input__suffix"><span class="el-input__suffix-inner"><i class="el-input__icon el-icon-search search-ico" data-v-7429231c></i><!----></span><!----></span><!----></div><div role="region" class="el-autocomplete-suggestion el-popper search-popper" style="width:;display:none;"><div class="el-scrollbar"><div class="el-autocomplete-suggestion__wrap el-scrollbar__wrap el-scrollbar__wrap--hidden-default"><ul class="el-scrollbar__view el-autocomplete-suggestion__list"></ul></div><div class="el-scrollbar__bar is-horizontal"><div class="el-scrollbar__thumb" style="width:0;transform:translateX(0%);ms-transform:translateX(0%);webkit-transform:translateX(0%);"></div></div><div class="el-scrollbar__bar is-vertical"><div class="el-scrollbar__thumb" style="height:0;transform:translateY(0%);ms-transform:translateY(0%);webkit-transform:translateY(0%);"></div></div></div></div></div></div></div></div></div></div></header> <main class="el-main my-main" style="margin-left:240px;" data-v-4fec0d22 data-v-60762676><div class="content-header index-header" data-v-0d2aefce data-v-4fec0d22><div class="container fade-scale in" data-v-0d2aefce><h1 id="conentHeader" class="title" data-v-0d2aefce>【工具学习】Git学习</h1> <h5 class="subtitle" data-v-0d2aefce></h5></div></div> <div data-v-62816cfb data-v-4fec0d22 data-v-4fec0d22><div class="post-content el-row is-justify-center el-row--flex" data-v-62816cfb><div id="post-card" class="post-card post-sign el-col el-col-16 el-col-xs-24 el-col-sm-23 el-col-md-23 el-col-lg-16" data-v-62816cfb><div class="content__default" data-v-62816cfb><h1 id="git"><a href="#git" class="header-anchor">#</a> Git</h1> <h2 id="常用命令"><a href="#常用命令" class="header-anchor">#</a> 常用命令</h2> <h3 id="初始开发-git-操作流程："><a href="#初始开发-git-操作流程：" class="header-anchor">#</a> 初始开发 git 操作流程：</h3> <div class="language-json line-numbers-mode"><pre class="language-json"><code>克隆最新主分支项目代码 git clone 地址

创建本地分支 git branch 分支名

查看本地分支 git branch

查看远程分支 git branch -a

切换分支  git checkout 分支名 (一般修改未提交则无法切换，大小写问题经常会有，可强制切换  git checkout 分支名 -f  非必须慎用)

将本地分支推送到远程分支 git push &lt;远程仓库&gt; &lt;本地分支&gt;<span class="token operator">:</span>&lt;远程分支&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="查看系统配置："><a href="#查看系统配置：" class="header-anchor">#</a> 查看系统配置：</h3> <div class="language-json line-numbers-mode"><pre class="language-json"><code>git config --system --list
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="查看当前用户全局配置："><a href="#查看当前用户全局配置：" class="header-anchor">#</a> 查看当前用户全局配置：</h3> <div class="language-json line-numbers-mode"><pre class="language-json"><code>git config --global --list
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="查看当前仓库配置："><a href="#查看当前仓库配置：" class="header-anchor">#</a> 查看当前仓库配置：</h3> <div class="language-json line-numbers-mode"><pre class="language-json"><code>git config --local --list
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="查看是否生成了-ssh-公钥"><a href="#查看是否生成了-ssh-公钥" class="header-anchor">#</a> 查看是否生成了 SSH 公钥:</h3> <div class="language-json line-numbers-mode"><pre class="language-json"><code>cd ~/.ssh
ls
<span class="token comment">// 其中 id_rsa 是私钥，id_rsa.pub 是公钥</span>
id_rsa      id_rsa.pub      known_hosts
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="配置用户名和邮箱："><a href="#配置用户名和邮箱：" class="header-anchor">#</a> 配置用户名和邮箱：</h3> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// 查看是否设置了user.name与user.email，没有的话，去设置</span>
git config user.name
git config user.email

<span class="token comment">// 设置user.name与user.email 其中加上了--global 就是设置全局的</span>
git config <span class="token punctuation">[</span>--global<span class="token punctuation">]</span> user.name <span class="token string">&quot;XX&quot;</span>
git config <span class="token punctuation">[</span>--global<span class="token punctuation">]</span> user.email <span class="token string">&quot;XX&quot;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="配置ssh："><a href="#配置ssh：" class="header-anchor">#</a> 配置SSH：</h3> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// 配置好用户名和邮箱</span>
<span class="token comment">// 输入 ssh-keygen 即可（或`ssh-keygen -t rsa -C </span><span class="token string">&quot;email&quot;</span>`）
ssh-keygen
<span class="token comment">// 生成之后获取公钥内容，输入 cat ~/.ssh/id_rsa.pub 即可， </span>
<span class="token comment">// 复制 ssh-rsa 一直到 .local这一整段内容</span>
cat ~/.ssh/id_rsa.pub

eg<span class="token operator">:</span>
$ cat ~/.ssh/id_rsa.pub
ssh-rsa AAAAB<span class="token number">3</span>NzaC<span class="token number">1</span>yc<span class="token number">2</span>EAAAABIwAAAQEAklOUpkDHrfHY<span class="token number">17</span>SbrmTIpNLTGK<span class="token number">9</span>Tjom/BWDSU
GPl+nafzlHDTYW<span class="token number">7</span>hdI<span class="token number">4</span>yZ<span class="token number">5</span>ew<span class="token number">18</span>JH<span class="token number">4</span>JW<span class="token number">9</span>jbhUFrviQzM<span class="token number">7</span>xlELEVf<span class="token number">4</span>h<span class="token number">9</span>lFX<span class="token number">5</span>QVkbPppSwg<span class="token number">0</span>cda<span class="token number">3</span>
Pbv<span class="token number">7</span>kOdJ/MTyBlWXFCR+HAo<span class="token number">3</span>FXRitBqxiX<span class="token number">1</span>nKhXpHAZsMciLq<span class="token number">8</span>V<span class="token number">6</span>RjsNAQwdsdMFvSlVK/<span class="token number">7</span>XA
t<span class="token number">3</span>FaoJoAsncM<span class="token number">1</span>Q<span class="token number">9</span>x<span class="token number">5</span>+<span class="token number">3</span>V<span class="token number">0</span>Ww<span class="token number">68</span>/eIFmb<span class="token number">1</span>zuUFljQJKprrX<span class="token number">88</span>XypNDvjYNby<span class="token number">6</span>vw/Pb<span class="token number">0</span>rwert/En
mZ+AW<span class="token number">4</span>OZPnTPI<span class="token number">89</span>ZPmVMLuayrD<span class="token number">2</span>cE<span class="token number">86</span>Z/il<span class="token number">8</span>b+gw<span class="token number">3</span>r<span class="token number">3</span>+<span class="token number">1</span>nKatmIkjn<span class="token number">2</span>so<span class="token number">1</span>d<span class="token number">01</span>QraTlMqVSsbx
NrRFi<span class="token number">9</span>wrf+M<span class="token number">7</span>Q== schacon@agadorlaptop.local

<span class="token comment">// 打开 GitLab 或者 GitHub，点击头像，找到设置页</span>
<span class="token comment">// 左侧找到 SSH keys 按钮并点击，输入刚刚复制的公钥即可</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="查看远程仓库地址："><a href="#查看远程仓库地址：" class="header-anchor">#</a> 查看远程仓库地址：</h3> <div class="language-json line-numbers-mode"><pre class="language-json"><code>git remote -v

origin  git@github.com<span class="token operator">:</span>michaelliao/learngit.git (fetch)
origin  git@github.com<span class="token operator">:</span>michaelliao/learngit.git (push)

上面显示了可以抓取和推送的origin的地址。如果没有推送权限，就看不到push的地址。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="修改远程仓库地址："><a href="#修改远程仓库地址：" class="header-anchor">#</a> 修改远程仓库地址：</h3> <div class="language-json line-numbers-mode"><pre class="language-json"><code>git remote set-url origin &lt;new url&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="拉取所有分支并更新："><a href="#拉取所有分支并更新：" class="header-anchor">#</a> 拉取所有分支并更新：</h3> <div class="language-json line-numbers-mode"><pre class="language-json"><code>for branch in git branch -a | grep remotes | grep -v HEAD | grep -v master; do
git branch --track $<span class="token punctuation">{</span>branch##*/<span class="token punctuation">}</span> $branch
done
git fetch --all
git pull --all
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="http协议下保存用户名和密码（避免每次操作都要输入）："><a href="#http协议下保存用户名和密码（避免每次操作都要输入）：" class="header-anchor">#</a> http协议下保存用户名和密码（避免每次操作都要输入）：</h3> <div class="language-json line-numbers-mode"><pre class="language-json"><code>git config --global credential.helper store
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p></p> <h2 id="命令列表"><a href="#命令列表" class="header-anchor">#</a> 命令列表</h2> <p><img src="https://cdn.nlark.com/yuque/0/2019/png/519325/1573461815907-f35f0865-4e4b-4103-ad26-405f57bd4ea6.png#align=left&amp;display=inline&amp;height=780&amp;name=image.png&amp;originHeight=780&amp;originWidth=733&amp;search=&amp;size=206154&amp;status=done&amp;width=733" alt="image.png"></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// 初始化目录变成Git可以管理的仓库</span>
git init

<span class="token comment">// 添加文件到暂存区</span>
git add file<span class="token number">2.</span>txt file<span class="token number">3.</span>txt

<span class="token comment">// 添加文件到本地仓库</span>
git commit  -m <span class="token string">&quot;add 3 files.&quot;</span>

<span class="token comment">// 显示从最近3次的提交日志</span>
git log
<span class="token comment">// 显示当前最新版本</span>
git log --pretty=oneline

输出：
在Git中，用HEAD表示当前版本，上一个版本就是HEAD^，上上一个版本就是HEAD^^，
往上<span class="token number">100</span>个版本写<span class="token number">100</span>个^比较容易数不过来，写成HEAD~<span class="token number">100</span>。

$ git log
commit <span class="token number">1094</span>adb<span class="token number">7</span>b<span class="token number">9</span>b<span class="token number">3807259</span>d<span class="token number">8</span>cb<span class="token number">349e7</span>df<span class="token number">1</span>d<span class="token number">4</span>d<span class="token number">6477073</span> (HEAD -&gt; master)
Author<span class="token operator">:</span> Michael Liao &lt;askxuefeng@gmail.com&gt;
Date<span class="token operator">:</span>   Fri May <span class="token number">18</span> <span class="token number">21</span><span class="token operator">:</span><span class="token number">06</span><span class="token operator">:</span><span class="token number">15</span> <span class="token number">2018</span> +<span class="token number">0800</span>

    append GPL

commit e<span class="token number">475</span>afc<span class="token number">93</span>c<span class="token number">209</span>a<span class="token number">690</span>c<span class="token number">39</span>c<span class="token number">13</span>a<span class="token number">46716e8</span>fa<span class="token number">000</span>c<span class="token number">366</span>
Author<span class="token operator">:</span> Michael Liao &lt;askxuefeng@gmail.com&gt;
Date<span class="token operator">:</span>   Fri May <span class="token number">18</span> <span class="token number">21</span><span class="token operator">:</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">36</span> <span class="token number">2018</span> +<span class="token number">0800</span>

    add distributed

commit eaadf<span class="token number">4e385</span>e<span class="token number">865</span>d<span class="token number">25</span>c<span class="token number">48e7</span>ca<span class="token number">9</span>c<span class="token number">8395</span>c<span class="token number">3</span>f<span class="token number">7</span>dfaef<span class="token number">0</span>
Author<span class="token operator">:</span> Michael Liao &lt;askxuefeng@gmail.com&gt;
Date<span class="token operator">:</span>   Fri May <span class="token number">18</span> <span class="token number">20</span><span class="token operator">:</span><span class="token number">59</span><span class="token operator">:</span><span class="token number">18</span> <span class="token number">2018</span> +<span class="token number">0800</span>

    wrote a readme file

<span class="token comment">// Git在内部有个指向当前版本的HEAD指针</span>
<span class="token comment">// 要把当前版本append GPL回退到上一个版本</span>
git reset --hard HEAD^
<span class="token comment">// 可以指定回到未来的某个版本</span>
<span class="token comment">// 1094a版本号没必要写全，前几位就可以了，Git会自动去找。</span>
git reset --hard <span class="token number">1094</span>a

<span class="token comment">// 查看命令历史</span>
git reflog

<span class="token comment">// 显示工作目录和暂存区的状态--查看冲突文件</span>
git status

<span class="token comment">// 查看工作区和版本库里面最新版本的区别 针对特定文件readme.txt </span>
 git diff HEAD -- readme.txt 

<span class="token comment">// git add之前撤销操作，把readme.txt文件在工作区的修改全部撤销</span>
git checkout -- readme.txt

<span class="token comment">//commit之前,把暂存区的修改撤销掉（unstage），重新放回工作区</span>
git reset HEAD readme.txt


<span class="token comment">// 用命令git rm删掉文件,并且git commit 才会生效</span>
git rm

<span class="token comment">// 创建SSH Key , id_rsa和id_rsa.pub这两个文件</span>
ssh-keygen -t rsa -C <span class="token string">&quot;youremail@example.com&quot;</span>

<span class="token comment">// 关联一个远程库</span>
git remote add origin &lt;url&gt;

<span class="token comment">// 用命令git clone克隆一个本地库</span>
<span class="token comment">// Git支持多种协议，包括https，但通过ssh支持的原生git协议速度最快</span>
git clone git@github.com<span class="token operator">:</span>michaelliao/gitskills.git

<span class="token comment">// 创建dev分支，然后切换到dev分支</span>
git checkout -b dev
<span class="token comment">// git checkout命令加上-b参数表示创建并切换,相当于以下两条命令</span>
git branch dev
git checkout dev

<span class="token comment">// 查看所有分支，当前分支前面会标一个*号</span>
git branch

<span class="token comment">// 把dev分支的工作成果合并到master分支上</span>
<span class="token comment">// 1. 切换回master分支</span>
git checkout master
<span class="token comment">// 2. 合并--合并指定分支到当前分支</span>
git merge dev

<span class="token comment">// 删除dev分支</span>
git branch -d dev

<span class="token comment">// 切换分支</span>
git switch master

<span class="token comment">// 创建并切换到新的dev分支</span>
git switch -c dev

<span class="token comment">// checkout 同一个命令，有两种作用</span>
<span class="token comment">// 切换分支</span>
git checkout &lt;branch&gt;
<span class="token comment">// 撤销修改</span>
git checkout -- &lt;file&gt;

<span class="token comment">// 查看分支合并图</span>
git log --graph

<span class="token comment">// 要强行删除一个没有被合并过的分支</span>
git branch -D &lt;name&gt;

<span class="token comment">// 查看远程库的信息</span>
git remote -v

<span class="token comment">// 推送分支, 把该分支上的所有本地提交推送到远程库</span>
git push origin master
git push origin dev

<span class="token comment">// 哪些分支需要推送</span>
master分支是主分支，因此要时刻与远程同步；

dev分支是开发分支，团队所有成员都需要在上面工作，所以也需要与远程同步；

bug分支只用于在本地修复bug，就没必要推到远程了，除非老板要看看你每周到底修复了几个bug；

feature分支是否推到远程，取决于你是否和你的小伙伴合作在上面开发。

<span class="token comment">// 抓取分支</span>
git clone git@github.com<span class="token operator">:</span>michaelliao/learngit.git
<span class="token comment">// 创建远程origin的dev分支到本地</span>
git checkout -b dev origin/dev
<span class="token comment">// 推送分支</span>
git push origin dev
<span class="token comment">// 冲突修复</span>
git pull
<span class="token comment">// git pull也失败了，git pull提示no tracking information，原因是没有指定本地dev分支与远程origin/dev分支的链接，根据提示，设置dev和origin/dev的链接：</span>
git branch --set-upstream-to=origin/dev dev
<span class="token comment">// 再次拉取</span>
git pull

<span class="token comment">// 合并有冲突，需要手动解决</span>
git status
手动解决
git add readme.txt
git commit -m <span class="token string">&quot;conflict fixed&quot;</span>
<span class="token comment">// 解决后，提交，再push</span>
git push origin dev

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br></div></div><h2 id="代码提交流程"><a href="#代码提交流程" class="header-anchor">#</a> 代码提交流程</h2> <p>工作区 -&gt; git status 查看状态 -&gt; git add . 将所有修改加入暂存区-&gt; git commit -m &quot;提交描述&quot; 将代码提交到 本地仓库 -&gt; git push 将本地仓库代码更新到 远程仓库。</p> <h3 id="应用场景"><a href="#应用场景" class="header-anchor">#</a> 应用场景</h3> <h4 id="git教程-https-www-liaoxuefeng-com-wiki-896043488029600-896067074338496"><a href="#git教程-https-www-liaoxuefeng-com-wiki-896043488029600-896067074338496" class="header-anchor">#</a> Git教程: <a href="https://www.liaoxuefeng.com/wiki/896043488029600/896067074338496" target="_blank" rel="noopener noreferrer">https://www.liaoxuefeng.com/wiki/896043488029600/896067074338496<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <h4 id="_1-git-add-提交到暂存区，出错"><a href="#_1-git-add-提交到暂存区，出错" class="header-anchor">#</a> 1.git add 提交到暂存区，出错</h4> <p>1-1、改乱了工作区某个文件的内容，想直接丢弃工作区的修改</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// 丢弃工作区的修改</span>
git checkout -- &lt;fileName&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>1-2、改乱了工作区某个文件的内容，还添加到了暂存时，想丢弃修改</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// 清空add命令向暂存区提交的关于file文件的修改</span>
git reset HEAD -- file
<span class="token comment">// 丢弃工作区的修改</span>
git checkout -- &lt;fileName&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_2-git-commit-提交到本地仓库，出错"><a href="#_2-git-commit-提交到本地仓库，出错" class="header-anchor">#</a> 2.git commit 提交到本地仓库，出错</h4> <p>2-1、提交信息出错</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// 更改 commit 信息</span>
git commit --amend -m<span class="token string">&quot;新提交消息&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>2-2、遗漏提交部分更新</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// 方案一：再次 commit</span>
git commit -m<span class="token string">&quot;提交消息&quot;</span>

<span class="token comment">// 方案二：遗漏文件提交到之前 commit 上</span>
<span class="token comment">// missed-file 为遗漏提交文件</span>
git add missed-file 
<span class="token comment">// --no-edit 表示提交消息不会更改，在 git 上仅为一次提交</span>
git commit --amend --no-edit
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>2-3、提交错误文件，回退到上一个 commit 版本，再 commit</p> <h5 id=""><a href="#" class="header-anchor">#</a></h5> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// git reset修改版本库，修改暂存区，修改工作区</span>

git reset HEAD &lt;文件名&gt; <span class="token comment">// 把暂存区的修改撤销掉（unstage），重新放回工作区。</span>
<span class="token comment">// git版本回退，回退到特定的commit_id版本，可以通过git log查看提交历史，以便确定要回退到哪个版本(commit 之后的即为ID);</span>
git reset --hard commit_id 
<span class="token comment">//将版本库回退1个版本，不仅仅是将本地版本库的头指针全部重置到指定版本，也会重置暂存区，并且会将工作区代码也回退到这个版本</span>
git reset --hard HEAD~<span class="token number">1</span>

<span class="token comment">// 修改版本库，保留暂存区，保留工作区</span>
<span class="token comment">// 将版本库软回退1个版本，软回退表示将本地版本库的头指针全部重置到指定版本，且将这次提交之后的所有变更都移动到暂存区。</span>
git reset --soft HEAD~<span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// git revert撤销 某次操作，此次操作之前和之后的commit和history都会保留，并且把这次撤销作为一次最新的提交</span>

<span class="token comment">// 撤销前一次 commit</span>
git revert HEAD
<span class="token comment">// 撤销前前一次 commit</span>
git revert HEAD^
<span class="token comment">// (比如：fa042ce57ebbe5bb9c8db709f719cec2c58ee7ff）撤销指定的版本，撤销也会作为一次提交进行保存。</span>
git revert commit
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h5 id="git-revert-和-git-reset-的区别"><a href="#git-revert-和-git-reset-的区别" class="header-anchor">#</a> <code>git revert</code> 和 <code>git reset</code> 的区别</h5> <ul><li><p><code>git revert</code>是用一次新的commit来回滚之前的commit，<code>git reset</code>是直接删除指定的commit。</p></li> <li><p>在回滚这一操作上看，效果差不多。但是在日后继续merge以前的老版本时有区别。因为<code>git revert</code>是用一次逆向的commit“中和”之前的提交，因此日后合并老的branch时，导致这部分改变不会再次出现，但是<code>git reset</code>是之间把某些commit在某个branch上删除，因而和老的branch再次merge时，这些被回滚的commit应该还会被引入。</p></li> <li><p><code>git reset</code> 是把HEAD向后移动了一下，而<code>git revert</code>是HEAD继续前进，只是新的commit的内容和要revert的内容正好相反，能够抵消要被revert的内容。</p></li></ul> <h4 id="_3-优化操作（rebase-merge-no-ff）"><a href="#_3-优化操作（rebase-merge-no-ff）" class="header-anchor">#</a> 3.优化操作（rebase &amp; merge --no-ff）</h4> <p>3-1.拉取代码 pull --rebase
<strong>git pull = git fetch + git merge</strong> <strong>git pull --rebase = git fetch + git rebase</strong></p> <p>按照 Git 的默认策略，如果远程分支和本地分支之间的提交线图有分叉的话（即不是 fast-forwarded），Git 会执行一次 merge 操作，因此产生一次没意义的提交记录，从而造成了像上图那样的混乱。</p> <p>在 pull 操作的时候，，使用 <code>git pull --rebase</code> 策略目的是修整提交线图。加上 <code>--rebase</code> 参数的作用是，提交线图有分叉的话，Git 会 rebase 策略来代替默认的 merge 策略。</p> <p>大多数时候，使用 <code>git pull --rebase</code>是为了使提交线图更好看，从而方便 code review。不过，如果你对使用 git 还不是十分熟练的话，我的建议是 <code>git pull --rebase</code>多练习几次之后再使用。</p> <p>另外，还需注意的是，使用 <code>git pull --rebase</code>比直接 pull 容易导致冲突的产生，如果预期冲突比较多的话，建议还是直接 pull。</p> <p>3-2.合代码 merge --no-ff
要用到的 <code>git merge --no-ff &lt;branch-name&gt;</code> 策略偏偏是反行其道，刻意地弄出提交线图分叉出来。  
请注意<code>--no-ff</code>参数，表示禁用<code>Fast forward</code>
设你在本地准备合并两个分支，而刚好这两个分支是 fast-forwarded 的，那么直接合并后你得到一个直线的提交线图，当然这样没什么坏处，但如果你想更清晰地告诉你同伴：<strong>这一系列的提交都是为了实现同一个目的</strong>，那么你可以刻意地将这次提交内容弄成一次提交线图分叉。</p> <p>在合并分支之前（假设要在本地将 feature 分支合并到 dev 分支），会先检查 feature 分支是否『部分落后』于<strong>远程 dev 分支</strong>：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code>git checkout dev
git pull # 更新 dev 分支
git log feature..dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>如果没有输出任何提交信息的话，即表示 feature 对于 dev 分支是 up-to-date 的。如果有输出的话而马上执行了 <code>git merge --no-ff</code> 的话，提交线图会变成这样：
<img src="https://cdn.nlark.com/yuque/0/2019/png/519325/1573269911517-b090b8b5-69e3-4add-a1ae-7756e8eea509.png#align=left&amp;display=inline&amp;height=388&amp;name=image.png&amp;originHeight=388&amp;originWidth=127&amp;search=&amp;size=63853&amp;status=done&amp;width=127" alt="image.png"></p> <p>所以这时在合并前，通常我会先执行：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code>git checkout feature
git rebase dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>这样就可以将 feature 重新拼接到更新了的 dev 之后，然后就可以合并了，最终得到一个干净舒服的提交线图。</p> <h4 id="_4-暂存-git-stash-修改紧急的-bug"><a href="#_4-暂存-git-stash-修改紧急的-bug" class="header-anchor">#</a> 4.暂存 git stash(修改紧急的 bug)</h4> <p><code>git stash</code> 可用来暂存当前正在进行的工作，比如想 pull 最新代码又不想 commit ， 或者另为了修改一个紧急的 bug ，先 stash，使返回到自己上一个 commit, 改完 bug 之后再 stash pop , 继续原来的工作。</p> <ul><li><p>添加缓存栈：<code>git stash</code> ;</p></li> <li><p>查看缓存栈：<code>git stash list</code> ;</p></li> <li><p>推出缓存栈：<code>git stash pop</code> ;</p></li> <li><p>取出特定缓存内容：<code>git stash apply stash@{1}</code> ;</p></li></ul> <p>提交当前修复bug到其他分支： <code>git cherry-pick &lt;commit&gt;</code></p> <p>把stash内容存在某个地方了，但是需要恢复一下，有两个办法：</p> <p>一是用<code>git stash apply</code>恢复，但是恢复后，stash内容并不删除，你需要用<code>git stash drop</code>来删除；
另一种方式是用<code>git stash pop</code>，恢复的同时把stash内容也删了.</p> <p>在master分支上修复的bug，想要合并到当前dev分支，可以用<code>git cherry-pick &lt;commit&gt;</code>命令，把bug提交的修改“复制”到当前分支，避免重复劳动。 git cherry-pick 4c805e2</p> <h4 id="_5-文件名过长错误"><a href="#_5-文件名过长错误" class="header-anchor">#</a> 5.文件名过长错误</h4> <p>Filename too long warning: Clone succeeded, but checkout failed.</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code>git config --system core.longpaths <span class="token boolean">true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_6-gitignore-更新后生效"><a href="#_6-gitignore-更新后生效" class="header-anchor">#</a> 6.  .gitignore 更新后生效</h4> <div class="language-json line-numbers-mode"><pre class="language-json"><code>git rm -r --cached .
git add .
git commit -m &quot;.gitignore is now working”
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_7-同步github-fork-出来的分支"><a href="#_7-同步github-fork-出来的分支" class="header-anchor">#</a> 7. 同步Github fork 出来的分支</h4> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// 1、配置remote，指向原始仓库</span>
git remote add upstream https<span class="token operator">:</span><span class="token comment">//github.com/InterviewMap/InterviewMap.git</span>

<span class="token comment">// 2、上游仓库获取到分支，及相关的提交信息，它们将被保存在本地的 upstream/master 分支</span>
git fetch upstream
# remote<span class="token operator">:</span> Counting objects<span class="token operator">:</span> <span class="token number">75</span><span class="token punctuation">,</span> done.
# remote<span class="token operator">:</span> Compressing objects<span class="token operator">:</span> <span class="token number">100</span>% (<span class="token number">53</span>/<span class="token number">53</span>)<span class="token punctuation">,</span> done.
# remote<span class="token operator">:</span> Total <span class="token number">62</span> (delta <span class="token number">27</span>)<span class="token punctuation">,</span> reused <span class="token number">44</span> (delta <span class="token number">9</span>)
# Unpacking objects<span class="token operator">:</span> <span class="token number">100</span>% (<span class="token number">62</span>/<span class="token number">62</span>)<span class="token punctuation">,</span> done.
# From https<span class="token operator">:</span><span class="token comment">//github.com/ORIGINAL_OWNER/ORIGINAL_REPOSITORY</span>
# * <span class="token punctuation">[</span>new branch<span class="token punctuation">]</span> master -&gt; upstream/master

<span class="token comment">// 3、切换到本地的 master 分支</span>
git checkout master
# Switched to branch 'master'

<span class="token comment">// 4、把 upstream/master 分支合并到本地的 master 分支，</span>
<span class="token comment">// 本地的 master 分支便跟上游仓库保持同步了，并且没有丢失本地的修改。</span>
git merge upstream/master
# Updating a<span class="token number">422352.</span>.<span class="token number">5</span>fdff<span class="token number">0</span>f
# Fast-forward
# README | <span class="token number">9</span> -------
# README.md | <span class="token number">7</span> ++++++
# <span class="token number">2</span> files changed<span class="token punctuation">,</span> <span class="token number">7</span> insertions(+)<span class="token punctuation">,</span> <span class="token number">9</span> deletions(-)
# delete mode <span class="token number">100644</span> README
# create mode <span class="token number">100644</span> README.md

<span class="token comment">// 5、上传到自己的远程仓库中</span>
git push 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h4 id="_8-创建标签"><a href="#_8-创建标签" class="header-anchor">#</a> 8. 创建标签</h4> <p>标签总是和某个commit挂钩。如果这个commit既出现在master分支，又出现在dev分支，那么在这两个分支上都可以看到这个标签。
分支可以移动，标签不能移动。</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// 1、切换到需要打标签的分支上</span>
git branch

<span class="token comment">// 2、打一个新标签, 默认标签是打在最新提交的commit上的</span>
git tag v<span class="token number">1.0</span>

<span class="token comment">// 3、查看所有标签,标签按字母排序的</span>
git tag

<span class="token comment">// 4、打标签到具体历史提交记录版本上，找到历史提交的commit id</span>
$ git log --pretty=oneline --abbrev-commit
<span class="token number">12</span>a<span class="token number">631</span>b (HEAD -&gt; master<span class="token punctuation">,</span> tag<span class="token operator">:</span> v<span class="token number">1.0</span><span class="token punctuation">,</span> origin/master) merged bug fix <span class="token number">101</span>
<span class="token number">4</span>c<span class="token number">805e2</span> fix bug <span class="token number">101</span>
e<span class="token number">1e9</span>c<span class="token number">68</span> merge with no-ff
f<span class="token number">52</span>c<span class="token number">633</span> add merge
cf<span class="token number">810e4</span> conflict fixed
<span class="token number">5</span>dc<span class="token number">6824</span> &amp; simple
<span class="token number">14096</span>d<span class="token number">0</span> AND simple
b<span class="token number">17</span>d<span class="token number">20</span>e branch test
d<span class="token number">46</span>f<span class="token number">35</span>e remove test.txt
b<span class="token number">84166</span>e add test.txt
<span class="token number">519219</span>b git tracks changes
e<span class="token number">43</span>a<span class="token number">48</span>b understand how stage works
<span class="token number">1094</span>adb append GPL
e<span class="token number">475</span>afc add distributed
eaadf<span class="token number">4</span>e wrote a readme file

<span class="token comment">// 比方说要对add merge这次提交打标签，它对应的commit id是f52c633</span>
$ git tag v<span class="token number">0.9</span> f<span class="token number">52</span>c<span class="token number">633</span>

<span class="token comment">// 5、查看标签信息</span>
git show v<span class="token number">0.9</span>

<span class="token comment">// 6、创建带有说明的标签，用-a指定标签名，-m指定说明文字</span>
$ git tag -a v<span class="token number">0.1</span> -m <span class="token string">&quot;version 0.1 released&quot;</span> <span class="token number">1094</span>adb
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h4 id="_9-操作标签"><a href="#_9-操作标签" class="header-anchor">#</a> 9. 操作标签</h4> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// 1、删除标签--创建的标签都只存储在本地，不会自动推送到远程。所以，打错的标签可以在本地安全删除。</span>
git tag -d v<span class="token number">0.1</span>

<span class="token comment">// 2、推送某个标签到远程</span>
git push origin v<span class="token number">1.0</span>
<span class="token comment">// 一次性推送全部尚未推送到远程的本地标签</span>
git push origin --tags

<span class="token comment">// 3、删除远程标签</span>
git tag -d v<span class="token number">0.9</span>
<span class="token comment">// 命令git push origin :refs/tags/&lt;tagname&gt;可以删除一个远程标签</span>
git push origin <span class="token operator">:</span>refs/tags/v<span class="token number">0.9</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="_10-自定义git配置"><a href="#_10-自定义git配置" class="header-anchor">#</a> 10. 自定义Git配置</h4> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// 1、Git显示颜色，会让命令输出看起来更醒目</span>
git config --global color.ui <span class="token boolean">true</span>

<span class="token comment">// 2、忽略特殊文件</span>
<span class="token comment">// 在Git工作区的根目录下创建一个特殊的.gitignore文件，</span>
<span class="token comment">// 要忽略的文件名填进去，Git就会自动忽略这些文件。</span>
<span class="token comment">// 想添加该文件，可以用-f强制添加到Git：</span>
git add -f App.class
<span class="token comment">// 想添加一个文件到Git，但发现添加不了。要找出来到底哪个规则过滤了</span>
git check-ignore -v App.class

<span class="token comment">/*
忽略文件的原则是：
	忽略操作系统自动生成的文件，比如缩略图等；
	忽略编译生成的中间文件、可执行文件等，也就是如果一个文件是通过另一个文件自动生成的，那自动生成的文件就没必要放进版本库，比如Java编译产生的.class文件；
	忽略你自己的带有敏感信息的配置文件，比如存放口令的配置文件。
*/</span>
示范文件：
# Windows<span class="token operator">:</span>
Thumbs.db
ehthumbs.db
Desktop.ini

# Python<span class="token operator">:</span>
*.py<span class="token punctuation">[</span>cod<span class="token punctuation">]</span>
*.so
*.egg
*.egg-info
dist
build

# My configurations<span class="token operator">:</span>
db.ini
deploy_key_rsa


<span class="token comment">// 3、删除远程标签</span>
git tag -d v<span class="token number">0.9</span>
<span class="token comment">// 命令git push origin :refs/tags/&lt;tagname&gt;可以删除一个远程标签</span>
git push origin <span class="token operator">:</span>refs/tags/v<span class="token number">0.9</span>

<span class="token comment">// 4、配置别名</span>
<span class="token comment">// 缩写命令</span>
git config --global alias.st status
git status 对应命令 git st
<span class="token comment">// 把暂存区的修改撤销掉</span>
git config --global alias.unstage 'reset HEAD'
git unstage test.py
<span class="token comment">// 等价  git reset HEAD test.py</span>

<span class="token comment">// 配置文件</span>
<span class="token comment">// 配置Git的时候，加上--global是针对当前用户起作用的，如果不加，那只针对当前的仓库起作用。</span>
.git/config文件中<span class="token operator">:</span>

$ cat .git/config 
<span class="token punctuation">[</span>core<span class="token punctuation">]</span>
    repositoryformatversion = <span class="token number">0</span>
    filemode = <span class="token boolean">true</span>
    bare = <span class="token boolean">false</span>
    logallrefupdates = <span class="token boolean">true</span>
    ignorecase = <span class="token boolean">true</span>
    precomposeunicode = <span class="token boolean">true</span>
<span class="token punctuation">[</span>remote <span class="token string">&quot;origin&quot;</span><span class="token punctuation">]</span>
    url = git@github.com<span class="token operator">:</span>michaelliao/learngit.git
    fetch = +refs/heads<span class="token comment">/*:refs/remotes/origin/*
[branch </span><span class="token string">&quot;master&quot;</span><span class="token punctuation">]</span>
    remote = origin
    merge = refs/heads/master
<span class="token punctuation">[</span>alias<span class="token punctuation">]</span>
    last = log <span class="token number">-1</span>
    
当前用户的Git配置文件放在用户主目录下的一个隐藏文件.gitconfig中<span class="token operator">:</span>
$ cat .gitconfig
<span class="token punctuation">[</span>alias<span class="token punctuation">]</span>
    co = checkout
    ci = commit
    br = branch
    st = status
<span class="token punctuation">[</span>user<span class="token punctuation">]</span>
    name = Your Name
    email = your@email.com
    

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br></div></div><h2 id="基础概念"><a href="#基础概念" class="header-anchor">#</a> 基础概念</h2> <h4 id="仓库"><a href="#仓库" class="header-anchor">#</a> 仓库</h4> <ol><li><p><strong>Remote:</strong> 远程主仓库；</p></li> <li><p><strong>Repository/History：</strong> 本地仓库；</p></li> <li><p><strong>Stage/Index：</strong> Git追踪树,暂存区；</p></li> <li><p><strong>workspace：</strong> 本地工作区（即你编辑器的代码）</p></li></ol> <p><img src="https://cdn.nlark.com/yuque/0/2019/png/519325/1573264297070-40c5b2d0-5052-4f12-bcb4-ee20e4dbeb61.png#align=left&amp;display=inline&amp;height=163&amp;name=image.png&amp;originHeight=282&amp;originWidth=892&amp;search=&amp;size=133312&amp;status=done&amp;width=517" alt="image.png"></p> <p><img src="https://cdn.nlark.com/yuque/0/2019/png/519325/1573264398217-bfe72d2e-7807-46b3-a13e-58256bbf77d3.png#align=left&amp;display=inline&amp;height=241&amp;name=image.png&amp;originHeight=397&amp;originWidth=851&amp;search=&amp;size=110968&amp;status=done&amp;width=516" alt="image.png"></p> <h4 id="git-fetch"><a href="#git-fetch" class="header-anchor">#</a> git fetch</h4> <p>将某个远程主机的更新，全部/分支 取回本地（此时之更新了Repository）它取回的代码对你本地的开发代码没有影响，如需彻底更新需合并或使用<code>git pull</code></p> <h4 id="git-pull"><a href="#git-pull" class="header-anchor">#</a> git pull</h4> <p>拉取远程主机某分支的更新，再与本地的指定分支合并（相当与fetch加上了合并分支功能的操作）</p> <h4 id="git-push"><a href="#git-push" class="header-anchor">#</a> git push</h4> <p>将本地分支的更新，推送到远程主机，其命令格式与git pull相似</p> <h4 id="分支操作"><a href="#分支操作" class="header-anchor">#</a> 分支操作</h4> <ul><li><p>使用 Git 下载指定分支命令为：<code>git clone -b 分支名仓库地址</code></p></li> <li><p>拉取远程新分支 <code>git checkout -b serverfix origin/serverfix</code></p></li> <li><p>合并本地分支 <code>git merge hotfix</code>：(将 hotfix 分支合并到当前分支)</p></li> <li><p>合并远程分支 <code>git merge origin/serverfix</code></p></li> <li><p>删除本地分支 <code>git branch -d hotfix</code>：(删除本地 hotfix 分支)</p></li> <li><p>删除远程分支 <code>git push origin --delete serverfix</code></p></li> <li><p>上传新命名的本地分支：<code>git push origin newName</code>;</p></li> <li><p>创建新分支：<code>git branch branchName</code>：(创建名为 branchName 的本地分支)</p></li> <li><p>切换到新分支：<code>git checkout branchName</code>：(切换到 branchName 分支)</p></li> <li><p>创建并切换分支：<code>git checkout -b branchName</code>：(相当于以上两条命令的合并)</p></li> <li><p>查看本地分支：<code>git branch</code></p></li> <li><p>查看远程仓库所有分支：<code>git branch -a</code></p></li> <li><p>本地分支重命名：<code>git branch -m oldName newName</code></p></li> <li><p>重命名远程分支对应的本地分支：<code>git branch -m oldName newName</code></p></li> <li><p>把修改后的本地分支与远程分支关联：<code>git branch --set-upstream-to origin/newName</code></p></li></ul></div> <span id="footerPost" data-v-62816cfb></span></div> <div id="post-toc" class="post-toc el-col el-col-6" data-v-62816cfb><h4 class="catalog-title" data-v-62816cfb>TOC</h4> <div class="catalog-body" data-v-62816cfb><ul id="catalog-list" class="catalog-list" data-v-62816cfb></ul></div></div></div> <div class="post-nav el-row is-justify-space-around el-row--flex" data-v-62816cfb><div class="post-prev el-col el-col-7" data-v-62816cfb><div data-v-62816cfb><a href="/pubBlog/posts/webSafe.html" data-v-62816cfb><i class="el-icon-arrow-left" data-v-62816cfb></i> Prev
        </a> <p class="nav-title" data-v-62816cfb>【应用专题】web 前端安全总结</p></div></div> <div class="post-next el-col el-col-7 el-col-lg-pull-5" data-v-62816cfb></div></div> <div class="el-row is-justify-center el-row--flex" data-v-62816cfb></div> <span data-v-2ab0b9b3 data-v-62816cfb><button type="button" class="el-button toc-btn el-button--primary is-circle" data-v-2ab0b9b3><!----><!----><span><i class="iconfont icon-service-directory" data-v-2ab0b9b3></i></span></button> <button type="button" class="el-button gotop-btn el-button--primary is-circle" data-v-2ab0b9b3><!----><!----><span><i class="el-icon-arrow-up" data-v-2ab0b9b3></i></span></button></span></div></main></section> <button type="button" class="el-button gotop-btn el-button--primary is-circle" style="display:none;" data-v-0ca947a2 data-v-60762676><!----><!----><span><i class="el-icon-arrow-up" data-v-0ca947a2></i></span></button></section> <footer class="el-footer container-footer" style="height:60px;" data-v-d5fdfe92 data-v-60762676><div class="footer-warp el-row is-justify-center is-align-center el-row--flex footerMargin" data-v-d5fdfe92><div class="footer-top el-col el-col-24" data-v-d5fdfe92><p class="ellipsis" data-v-d5fdfe92><span data-v-d5fdfe92>
          博客内容遵循
          <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" data-v-d5fdfe92>知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span></p></div> <div class="footer-bottom el-col el-col-24" data-v-d5fdfe92><p class="ellipsis" data-v-d5fdfe92><span data-v-d5fdfe92><span data-v-d5fdfe92>
            dodhood © 2019-10 ~ 2019-11
          </span></span> <span data-v-d5fdfe92>
          Power by
          <a href="https://vuepress.vuejs.org/zh/" target="_blank" data-v-d5fdfe92>VuePress</a> Theme
          <a href="https://github.com/zhhlwd/vuepress-theme-indigo-material" target="_blank" data-v-d5fdfe92>indigo material</a></span></p></div></div></footer> <div class="overlay" data-v-60762676></div></div><div class="global-ui"></div></div>
    <script src="/pubBlog/assets/js/app.faf67417.js" defer></script><script src="/pubBlog/assets/js/1.9b146cf0.js" defer></script><script src="/pubBlog/assets/js/14.cac7871b.js" defer></script><script src="/pubBlog/assets/js/5.5d06c7ea.js" defer></script><script src="/pubBlog/assets/js/7.33610143.js" defer></script><script src="/pubBlog/assets/js/9.4f15c051.js" defer></script><script src="/pubBlog/assets/js/6.2819461f.js" defer></script><script src="/pubBlog/assets/js/20.ef7d0002.js" defer></script><script src="/pubBlog/assets/js/13.a9af2284.js" defer></script><script src="/pubBlog/assets/js/15.51234656.js" defer></script>
  </body>
</html>
